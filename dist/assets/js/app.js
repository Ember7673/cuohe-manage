(function(e){function t(t){for(var a,i,o=t[0],u=t[1],c=t[2],m=0,p=[];m<o.length;m++)i=o[m],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&p.push(s[i][0]),s[i]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);l&&l(t);while(p.length)p.shift()();return n.push.apply(n,c||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],a=!0,o=1;o<r.length;o++){var u=r[o];0!==s[u]&&(a=!1)}a&&(n.splice(t--,1),e=i(i.s=r[0]))}return e}var a={},s={app:0},n=[];function i(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=a,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(r,a,function(t){return e[t]}.bind(null,a));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var l=u;n.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"02c1":function(e,t,r){},"041d":function(e,t,r){"use strict";r("c502")},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},14:function(e,t){},1802:function(e,t,r){"use strict";r("c0a8")},2:function(e,t){},"2db9":function(e,t,r){},3:function(e,t){},"336f":function(e,t,r){},"3b1a":function(e,t,r){"use strict";r("564d")},"3d39":function(e,t,r){},"3f10":function(e,t,r){},"3fc9":function(e,t,r){"use strict";r("a05b")},4:function(e,t){},5:function(e,t){},"564d":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("div",{staticClass:"layout"},[r("router-view")],1)])},n=[],i={},o=i,u=(r("eff4"),r("2877")),c=Object(u["a"])(o,s,n,!1,null,"79f9e9df",null),l=c.exports,m=r("8c4f"),p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[e._v(" 欢迎使用撮合后台管理平台 ")])},d=[],h={name:"Home",components:{}},f=h,g=Object(u["a"])(f,p,d,!1,null,null,null),v=g.exports,b=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"layout"},[r("el-container",[r("el-header",[r("div",{staticClass:"left"},[r("p",{staticClass:"logo"},[e._v("logo")]),r("span",{staticClass:"projectTitle"},[e._v("后台管理系统")])])]),r("el-container",[r("el-main",[r("div",{staticClass:"panel"},[r("el-tabs",{attrs:{stretch:""},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"管理员",name:"1"}},[r("div",{staticClass:"loginbox managerLogin"},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{prop:"phone_num"}},[r("el-input",{attrs:{type:"tel",tabindex:"1",maxlength:"11",placeholder:"请输入手机号码"},model:{value:e.ruleForm.phone_num,callback:function(t){e.$set(e.ruleForm,"phone_num",t)},expression:"ruleForm.phone_num"}})],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{type:"password",tabindex:"2",maxlength:"16",placeholder:"请输入密码","show-password":!0},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("提交")])],1)],1)],1)]),r("el-tab-pane",{attrs:{label:"超级管理员",name:"2"}},[r("div",{staticClass:"loginbox superManagerLogin"},[r("el-form",{ref:"superForm",attrs:{model:e.superForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{prop:"phone_num"}},[r("el-input",{attrs:{type:"tel",tabindex:"1",maxlength:"11",placeholder:"请输入手机号码"},model:{value:e.superForm.phone_num,callback:function(t){e.$set(e.superForm,"phone_num",t)},expression:"superForm.phone_num"}})],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{type:"password",tabindex:"2",maxlength:"16","show-password":!0,placeholder:"请输入密码"},model:{value:e.superForm.password,callback:function(t){e.$set(e.superForm,"password",t)},expression:"superForm.password"}})],1),r("el-form-item",{attrs:{prop:"valid_num"}},[r("el-input",{attrs:{placeholder:"请输入验证码"},model:{value:e.superForm.valid_num,callback:function(t){e.$set(e.superForm,"valid_num",t)},expression:"superForm.valid_num"}}),r("div",{staticClass:"get-code"},[e.isShowTimer?r("span",[e._v("重新发送（"+e._s(e.smsTimer)+"）秒")]):r("span",{on:{click:e.getSMSCode}},[e._v("获取验证码")])])],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("superForm")}}},[e._v("提交")])],1)],1)],1)])],1)],1)])],1)],1)],1)},w=[],_=(r("b0c0"),r("a9e3"),r("8ba4"),r("c975"),r("d3b7"),r("bc3a")),x=r.n(_),C=r("5c96"),L=r.n(C),y={7010:{en:"DB error",zh:"数据库错误"},7009:{en:"not exist",zh:"不存在此数据"},7013:{en:"please get valid code firstly",zh:"请先获取短信验证码"},7014:{en:"valid code expired, only has 5 minutes lift-time, please get again",zh:"验证码已过期（有效期5分钟），请重新获取"},7015:{en:"invite_code not exist",zh:"邀请码不存在"},7016:{en:"invite_code already used",zh:"邀请码已使用"},7017:{en:"invite_code generate by platform",zh:"邀请码由平台生成，非用户创建"},7018:{en:"nick name already exist",zh:"昵称已存在"},7008:{en:"this account already exist",zh:"此账号已存在"},3030:{en:"parameter valid_num is wrong",zh:"验证码错误"},3031:{en:"parameter invite_code is wrong",zh:"邀请码错误"},3009:{en:"parameter password is wrong",zh:"密码错误"},7012:{en:"wrong password",zh:"密码错误"},5001:{en:"network unstable, please wait awhile and retry",zh:"网络不稳定，请稍后重试"},3003:{en:"parameter is wrong, please check",zh:"参数错误，请检查"},100:{en:"user not login",zh:"用户未登录"},101:{en:"user id card verify fail",zh:"身份证号验证失败"},3014:{en:"parameter user_id is wrong",zh:"用户id错误"}},k=y,q=a["default"].prototype,S={baseURL:"",timeout:1e4,withCredentials:!1,responseType:"json",xsrfHeaderName:"X-XSRF-TOKEN",xsrfCookieName:"XSRF-TOKEN",maxContentLength:2e3},$=x.a.create(S);$.interceptors.request.use((function(e){return e}),(function(e){return C["Message"].error({message:"加载超时"}),Promise.reject(e)})),$.interceptors.response.use((function(e){var t=e.data.status,r=window.location;for(var a in k)t===Number(a)&&(e.data["message"]=k[a]["zh"]);if(-1!==r.hash.indexOf("resetPassword")||"#/"===r.hash);else if(100===t)return q.$auth.removeUserInfo(),void q.$SignIn();return e}),(function(e){return e&&e.response?e.message="连接错误".concat(e.response.status):e.message="网络出现问题，请稍后再试",C["Message"].error({message:e.message}),Promise.reject(e)}));var F=$,N=function(e){var t="/official/api/login-with-password";return F.post(t,e)},I=function(e){var t="/official/mgr/api/mb/sendcode";return F.post(t,e)},z=function(e){var t="/official/api/login-with-valid_num";return F.post(t,e)},R=function(e){var t="/official/api/logout";return F.post(t,e)},j=function(e){var t="/official/api/get-session-info";return F.post(t,e)},O=(r("a15b"),r("ac1f"),r("25f0"),r("1276"),r("a78e")),E=r.n(O),M=r("3452"),T=function(){for(var e=[],t="0123456789abcdef",r=0;r<36;r++)e[r]=t.substr(Math.floor(16*Math.random()),1);e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-";var a=e.join("");return a},V=function(e){return E.a.get(e)};function P(e){var t="20|!^20wg20~8$01",r="c0ab1f54he78k36d";t=M.enc.Utf8.parse(t),r=M.enc.Utf8.parse(r);var a=M.enc.Utf8.parse(e),s=M.AES.encrypt(a,t,{iv:r,mode:M.mode.CBC,padding:M.pad.Pkcs7});return M.enc.Base64.stringify(s.ciphertext)}var U={data:function(){var e=function(e,t,r){var a=/^1[34578]\d{9}$$/;if(!t)return r(new Error("电话号码不能为空"));Number.isInteger(+t)?a.test(t)?r():r(new Error("电话号码格式不正确")):r(new Error("请输入数字值"))};return{ruleForm:{phone_num:"",password:""},superForm:{phone_num:"",password:"",valid_num:""},rules:{phone_num:[{required:!0,validator:e,trigger:"blur"}],password:[{required:!0,message:"请输入登录密码",trigger:"blur"}],valid_num:[{required:!0,message:"请输入验证码",trigger:"blur"}]},activeName:"1",smsTimer:40,isShowTimer:!1,loginType:"1"}},methods:{handleClick:function(e){this.loginType=e.name,this.$refs["ruleForm"].resetFields(),this.$refs["superForm"].resetFields()},getSMSCode:function(){var e=this;this.$refs["superForm"].validateField(["phone_num"],(function(t){if(!t){var r={reqid:T()};I(r).then((function(t){var r=t.data,a=r.status;r.message;a?e.$message.error(t.data.message):(e.$message.success("验证码已发送"),e.timer(),e.isShowTimer=!0)}))}}))},timer:function(){var e=this,t=setInterval((function(){0===e.smsTimer?(e.isShowTimer=!1,e.smsTimer=40,clearInterval(t)):e.smsTimer<=40&&e.smsTimer>=1&&(e.isShowTimer=!0,e.smsTimer--)}),1e3)},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;"1"===t.loginType?N({reqid:T(),phone_num:t.ruleForm.phone_num,password:t.$md5(t.ruleForm.password),domain:"mgr"}).then((function(e){var r=e.data,a=r.status;r.message;a?t.$message.error(e.data.message):(t.$message.success("登录成功"),t.$router.push("/"))})):z({reqid:T(),phone_num:t.superForm.phone_num,password:t.$md5(t.superForm.password),valid_num:t.superForm.valid_num,domain:"mgr"}).then((function(e){var r=e.data,a=r.status;r.message;a?t.$message.error(e.data.message):(t.$message.success("登录成功"),t.$router.push("/"))}))}))}}},D=U,B=(r("99c2"),Object(u["a"])(D,b,w,!1,null,"4a00a8ed",null)),H=B.exports,A=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"requirementList"},[r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",[e._v("需求列表")])],1),r("div",{staticClass:"search"},[r("span",[e._v("需求查找：")]),r("el-input",{attrs:{placeholder:"请输入项目名称/需求介绍"},model:{value:e.searchStr,callback:function(t){e.searchStr=t},expression:"searchStr"}}),r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.onSearch}},[e._v("查询")])],1),r("div",[r("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"全部",name:"1,2,3,4"}},[r("ListModule",{attrs:{list:e.requirementList,size:e.requirementLen,pageindex:e.pageindex},on:{pageChange:e.pageChange,refresh:e.refresh}})],1),r("el-tab-pane",{attrs:{label:"未审核",name:"1"}},[r("ListModule",{attrs:{list:e.requirementList,size:e.requirementLen,pageindex:e.pageindex},on:{pageChange:e.pageChange,refresh:e.refresh}})],1),r("el-tab-pane",{attrs:{label:"已审核",name:"2"}},[r("ListModule",{attrs:{list:e.requirementList,size:e.requirementLen,pageindex:e.pageindex},on:{pageChange:e.pageChange,refresh:e.refresh}})],1),r("el-tab-pane",{attrs:{label:"已对接",name:"3"}},[r("ListModule",{attrs:{list:e.requirementList,size:e.requirementLen,pageindex:e.pageindex},on:{pageChange:e.pageChange,refresh:e.refresh}})],1),r("el-tab-pane",{attrs:{label:"已完成",name:"4"}},[r("ListModule",{attrs:{list:e.requirementList,size:e.requirementLen,pageindex:e.pageindex},on:{pageChange:e.pageChange,refresh:e.refresh}})],1),r("el-tab-pane",{attrs:{label:"已删除",name:"5"}},[r("ListModule",{attrs:{list:e.requirementList,size:e.requirementLen,pageindex:e.pageindex},on:{pageChange:e.pageChange,refresh:e.refresh}})],1)],1)],1)],1)},J=[],X=(r("96cf"),r("1da1")),K=function(e){var t="/official/mgr/api/requirement-list";return F.post(t,e)},G=function(e){var t="/official/mgr/api/requirement-info-update";return F.post(t,e)},Q=function(e){var t="/official/mgr/api/resource-list";return F.post(t,e)},W=function(e){var t="/official/mgr/api/resource-info-update";return F.post(t,e)},Y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"list"},[r("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.list,stripe:""},on:{"row-click":e.handleCurrentChange}},[r("el-table-column",{attrs:{prop:"requirement_name","show-overflow-tooltip":"",label:"项目名称",width:"180"}}),r("el-table-column",{attrs:{prop:"description","show-overflow-tooltip":"",label:"需求介绍",width:"180"}}),r("el-table-column",{attrs:{prop:"cooperation_method",label:"合作方式"}}),r("el-table-column",{attrs:{prop:"requirement_create_time",label:"创建时间"}}),r("el-table-column",{attrs:{prop:"user_id",label:"创建者"}}),r("el-table-column",{attrs:{formatter:e.statusFormatter,prop:"requirement_status",label:"状态"}}),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{directives:[{name:"show",rawName:"v-show",value:"未审核"===t.row.requirement_status,expression:"scope.row.requirement_status === '未审核'"}],attrs:{type:"primary",size:"mini"},on:{click:function(r){return r.stopPropagation(),e.handelExamine(t.$index,t.row)}}},[e._v("通过")])]}}])})],1),r("el-pagination",{attrs:{"current-page":e.pageindex,background:"",layout:"prev, pager, next","page-size":10,total:e.size},on:{"current-change":e.currentChange}}),r("el-dialog",{attrs:{customClass:"details customDialog",title:"需求详情",visible:e.curItemVisible},on:{"update:visible":function(t){e.curItemVisible=t}}},[r("div",{staticClass:"detailContent"},[r("div",{staticClass:"text"},[r("p",{staticClass:"title"},[e._v("项目名称：")]),r("p",{staticClass:"descriptionContent nameContent",staticStyle:{"white-space":"pre-wrap"}},[e._v(" "+e._s(e.curItem.requirement_name))])]),r("div",{staticClass:"text description"},[r("p",{staticClass:"title"},[e._v("需求介绍：")]),r("p",{staticClass:"descriptionContent descriptionContentEditor",staticStyle:{"white-space":"pre-wrap"}},[e._v(" "+e._s(e.curItem.description))])]),r("div",{staticClass:"text"},[r("p",{staticClass:"title"},[e._v("合作方式：")]),r("span",{staticClass:"cooperationMethod"},[e._v(e._s(e.curItem.cooperation_method))])]),r("div",{staticClass:"text"},[r("p",{staticClass:"title"},[e._v("附件：")]),r("div",{staticClass:"filesList"},[e._l(e.filesList,(function(t,a){return r("p",{directives:[{name:"show",rawName:"v-show",value:e.filesList.length,expression:"filesList.length"}],key:a},[r("span",{staticClass:"filename"},[e._v(e._s(t.name))]),r("button",{staticClass:"downloadBtn",on:{click:function(t){return e.onDownload(a)}}},[e._v("下载")])])})),r("p",{directives:[{name:"show",rawName:"v-show",value:!e.filesList.length,expression:"!filesList.length"}]},[e._v("暂无附件")])],2)]),r("div",{directives:[{name:"show",rawName:"v-show",value:"未审核"===e.curItem.requirement_status,expression:"curItem.requirement_status === '未审核'"}],staticClass:"btn"},[r("button",{staticClass:"examineBtn",on:{click:e.handelExamine}},[e._v("通过")])])])])],1)},Z=[],ee={props:["list","pageindex","size"],data:function(){return{curItem:{},filesList:[],curItemVisible:!1}},methods:{handleCurrentChange:function(e){this.curItem=e,this.filesList=e.pic_annex,this.curItemVisible=!0},handelExamine:function(e,t){var r=this;this.curItem=t,G({reqid:T(),status:2,id:Number(this.curItem.id)}).then((function(e){var t=e.data,a=t.status,s=(t.data,t.message);a?r.$message.error(s):(r.$message.success("审核成功"),r.$emit("refresh"))}))},statusFormatter:function(e){switch(Number(e.requirement_status)){case 1:e.requirement_status="未审核";break;case 2:e.requirement_status="已审核";break;case 3:e.requirement_status="已对接";break;case 4:e.requirement_status="已完成";break}return e.requirement_status},currentChange:function(e){this.$emit("pageChange",e)},onDownload:function(e){var t="https://cuohe-1304244764.cos.ap-beijing.myqcloud.com/",r=t+this.filesList[e].download_name;window.location.href=r}}},te=ee,re=(r("9806"),Object(u["a"])(te,Y,Z,!1,null,"eeb106ce",null)),ae=re.exports,se={components:{ListModule:ae},data:function(){return{searchStr:"",requirementList:[],activeName:"1,2,3,4",curStatus:"1,2,3,4",isDelete:!1,pageindex:1,requirementLen:0}},created:function(){var e=this;return Object(X["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getRequirementList("1,2,3,4",1,10);case 2:e.requirementList=t.sent;case 3:case"end":return t.stop()}}),t)})))()},methods:{getRequirementList:function(e,t,r){var a=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Promise((function(i,o){K({reqid:T(),status:e,delete:n,keyword:s,pageindex:t,pagesize:r}).then((function(e){var t=e.data,r=t.status,s=t.data,n=t.message;r?(a.$message.error(n),o()):(a.requirementLen=s.size,i(s.meets))}))}))},pageChange:function(e){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.pageindex=e,r.next=3,t.getRequirementList(t.curStatus,e,10,t.searchStr,t.isDelete);case 3:t.requirementList=r.sent;case 4:case"end":return r.stop()}}),r)})))()},handleClick:function(e){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t.curStatus=e.name,"5"!==t.curStatus){r.next=8;break}return t.isDelete=!0,r.next=5,t.getRequirementList("1,2,3,4",1,10,t.searchStr,!0);case 5:t.requirementList=r.sent,r.next=12;break;case 8:return t.isDelete=!1,r.next=11,t.getRequirementList(t.curStatus,1,10,t.searchStr);case 11:t.requirementList=r.sent;case 12:case"end":return r.stop()}}),r)})))()},onSearch:function(){var e=this;return Object(X["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getRequirementList(e.curStatus,1,10,e.searchStr);case 2:e.requirementList=t.sent;case 3:case"end":return t.stop()}}),t)})))()},refresh:function(){var e=this;return Object(X["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getRequirementList(e.curStatus,e.pageindex,10,e.searchStr);case 2:e.requirementList=t.sent;case 3:case"end":return t.stop()}}),t)})))()}}},ne=se,ie=(r("a9b4"),Object(u["a"])(ne,A,J,!1,null,"2ef5e2de",null)),oe=ie.exports,ue=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"requirementList"},[r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",[e._v("资源列表")])],1),r("div",{staticClass:"search"},[r("span",[e._v("资源查找：")]),r("el-input",{attrs:{placeholder:"请输入项目名称/资源介绍"},model:{value:e.searchStr,callback:function(t){e.searchStr=t},expression:"searchStr"}}),r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.onSearch}},[e._v("查询")])],1),r("div",[r("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"全部",name:"1,2"}},[r("ListModule",{attrs:{list:e.requirementList,size:e.requirementLen,pageindex:e.pageindex},on:{pageChange:e.pageChange,refresh:e.refresh}})],1),r("el-tab-pane",{attrs:{label:"未审核",name:"1"}},[r("ListModule",{attrs:{list:e.requirementList,size:e.requirementLen,pageindex:e.pageindex},on:{pageChange:e.pageChange,refresh:e.refresh}})],1),r("el-tab-pane",{attrs:{label:"已审核",name:"2"}},[r("ListModule",{attrs:{list:e.requirementList,size:e.requirementLen,pageindex:e.pageindex},on:{pageChange:e.pageChange,refresh:e.refresh}})],1)],1)],1)],1)},ce=[],le=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"list"},[r("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.list,stripe:""},on:{"row-click":e.handleCurrentChange}},[r("el-table-column",{attrs:{prop:"resource_name","show-overflow-tooltip":"",label:"项目名称",width:"180"}}),r("el-table-column",{attrs:{prop:"description","show-overflow-tooltip":"",label:"资源介绍",width:"180"}}),r("el-table-column",{attrs:{prop:"resource_type",label:"资源类型"}}),r("el-table-column",{attrs:{prop:"area",label:"合作领域"}}),r("el-table-column",{attrs:{formatter:e.statusFormatter,prop:"resource_status",label:"状态"}}),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{directives:[{name:"show",rawName:"v-show",value:"未审核"===t.row.resource_status,expression:"scope.row.resource_status === '未审核'"}],attrs:{type:"primary",size:"mini"},on:{click:function(r){return r.stopPropagation(),e.handelExamine(t.$index,t.row)}}},[e._v("通过")])]}}])})],1),r("el-pagination",{attrs:{"current-page":e.pageindex,background:"",layout:"prev, pager, next","page-size":10,total:e.size},on:{"current-change":e.currentChange}}),r("el-dialog",{attrs:{customClass:"details customDialog",title:"资源详情",visible:e.curItemVisible},on:{"update:visible":function(t){e.curItemVisible=t}}},[r("div",{staticClass:"detailContent"},[r("div",{staticClass:"text"},[r("p",{staticClass:"title"},[e._v("项目名称：")]),r("p",{staticClass:"descriptionContent nameContent",staticStyle:{"white-space":"pre-wrap"}},[e._v(" "+e._s(e.curItem.resource_name))])]),r("div",{staticClass:"text description"},[r("p",{staticClass:"title"},[e._v("资源介绍")]),r("p",{staticClass:"descriptionContent descriptionContentEditor",staticStyle:{"white-space":"pre-wrap"}},[e._v(" "+e._s(e.curItem.description))])]),r("div",{staticClass:"text"},[r("p",{staticClass:"title"},[e._v("资源类型")]),r("span",{staticClass:"cooperationMethod"},[e._v(e._s(e.curItem.resource_type))])]),r("div",{staticClass:"text"},[r("p",{staticClass:"title"},[e._v("合作领域")]),r("span",{staticClass:"cooperationMethod"},[e._v(e._s(e.curItem.area))])]),r("div",{staticClass:"text"},[r("p",{staticClass:"title"},[e._v("附件：")]),r("div",{staticClass:"filesList"},[e._l(e.filesList,(function(t,a){return r("p",{directives:[{name:"show",rawName:"v-show",value:e.filesList.length,expression:"filesList.length"}],key:a},[r("span",{staticClass:"filename"},[e._v(e._s(t.name))]),r("button",{staticClass:"downloadBtn",on:{click:function(t){return e.onDownload(a)}}},[e._v("下载")])])})),r("p",{directives:[{name:"show",rawName:"v-show",value:!e.filesList.length,expression:"!filesList.length"}]},[e._v("暂无附件")])],2)]),r("div",{directives:[{name:"show",rawName:"v-show",value:"未审核"===e.curItem.requirement_status,expression:"curItem.requirement_status === '未审核'"}],staticClass:"btn"},[r("button",{staticClass:"examineBtn",on:{click:e.handelExamine}},[e._v("通过")])])])])],1)},me=[],pe={props:["list","pageindex","size"],data:function(){return{curItem:{},filesList:[],curItemVisible:!1}},methods:{handleCurrentChange:function(e){this.curItem=e,this.filesList=e.pic_annex,this.curItemVisible=!0},handelExamine:function(e,t){var r=this;this.curItem=t,W({reqid:T(),status:2,id:Number(this.curItem.id)}).then((function(e){var t=e.data,a=t.status,s=(t.data,t.message);a?r.$message.error(s):(r.$message.success("审核成功"),r.$emit("refresh"))}))},statusFormatter:function(e){switch(Number(e.resource_status)){case 1:e.resource_status="未审核";break;case 2:e.resource_status="已审核";break;case 3:e.resource_status="已对接";break;case 4:e.resource_status="已完成";break}return e.resource_status},currentChange:function(e){this.$emit("pageChange",e)},onDownload:function(e){var t="https://cuohe-1304244764.cos.ap-beijing.myqcloud.com/",r=t+this.filesList[e].download_name;window.location.href=r}}},de=pe,he=(r("971a"),Object(u["a"])(de,le,me,!1,null,"411a30fe",null)),fe=he.exports,ge={components:{ListModule:fe},data:function(){return{searchStr:"",requirementList:[],activeName:"1,2",curStatus:"1,2",isDelete:!1,pageindex:1,requirementLen:0}},created:function(){var e=this;return Object(X["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getRequirementList("1,2",1,10);case 2:e.requirementList=t.sent;case 3:case"end":return t.stop()}}),t)})))()},methods:{getRequirementList:function(e,t,r){var a=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Promise((function(i,o){Q({reqid:T(),status:e,delete:n,keyword:s,pageindex:t,pagesize:r}).then((function(e){var t=e.data,r=t.status,s=t.data,n=t.message;r?(a.$message.error(n),o()):(a.requirementLen=s.size,i(s.meets))}))}))},pageChange:function(e){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.pageindex=e,r.next=3,t.getRequirementList(t.curStatus,e,10,t.searchStr,t.isDelete);case 3:t.requirementList=r.sent;case 4:case"end":return r.stop()}}),r)})))()},handleClick:function(e){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t.curStatus=e.name,"5"!==t.curStatus){r.next=8;break}return t.isDelete=!0,r.next=5,t.getRequirementList("1,2",1,10,t.searchStr,!0);case 5:t.requirementList=r.sent,r.next=12;break;case 8:return t.isDelete=!1,r.next=11,t.getRequirementList(t.curStatus,1,10,t.searchStr);case 11:t.requirementList=r.sent;case 12:case"end":return r.stop()}}),r)})))()},onSearch:function(){var e=this;return Object(X["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getRequirementList(e.curStatus,1,10,e.searchStr);case 2:e.requirementList=t.sent;case 3:case"end":return t.stop()}}),t)})))()},refresh:function(){var e=this;return Object(X["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getRequirementList(e.curStatus,e.pageindex,10,e.searchStr);case 2:e.requirementList=t.sent;case 3:case"end":return t.stop()}}),t)})))()}}},ve=ge,be=(r("1802"),Object(u["a"])(ve,ue,ce,!1,null,"363aa5ea",null)),we=be.exports,_e=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"history"},[r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",[e._v("系统账户")])],1),r("div",{staticClass:"historyContent"},[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return t.stopPropagation(),e.createUser(t)}}},[e._v("添加用户")]),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.managerList}},[r("el-table-column",{attrs:{prop:"create_time",label:"角色名",width:"180"}}),r("el-table-column",{attrs:{prop:"account",label:"账户",width:"180"}}),r("el-table-column",{attrs:{prop:"password",label:"密码"}}),r("el-table-column",{attrs:{prop:"create_time",label:"创建时间"}}),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(r){return r.stopPropagation(),e.handelExamine(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1),r("el-pagination",{attrs:{"current-page":e.pageindex,background:"",layout:"prev, pager, next","page-size":10,total:e.managerListLen},on:{"current-change":e.currentChange}}),r("el-dialog",{attrs:{customClass:"createUser",title:"创建账户",visible:e.createVisible},on:{"update:visible":function(t){e.createVisible=t}}},[r("el-form",{ref:"superForm",attrs:{model:e.superForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{prop:"account"}},[r("el-input",{attrs:{placeholder:"请输入账号"},model:{value:e.superForm.account,callback:function(t){e.$set(e.superForm,"account",t)},expression:"superForm.account"}})],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{type:"password",tabindex:"2",maxlength:"16","show-password":!0,placeholder:"请输入密码"},model:{value:e.superForm.password,callback:function(t){e.$set(e.superForm,"password",t)},expression:"superForm.password"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.onConfirmCreateUser}},[e._v("提交")])],1)],1)],1)],1)},xe=[],Ce=function(e){var t="/official/mgr/api/operate-list";return F.post(t,e)},Le=function(e){var t="/official/mgr/api/user-list";return F.post(t,e)},ye=function(e){var t="/official/mgr/api/user-info-update";return F.post(t,e)},ke=function(e){var t="/official/mgr/api/get-user-info-from-invite-code";return F.post(t,e)},qe=function(e){var t="/official/mgr/api/manager-list";return F.post(t,e)},Se=function(e){var t="/official/mgr/api/delete-user";return F.post(t,e)},$e=function(e){var t="/official/mgr/api/create-user";return F.post(t,e)},Fe={data:function(){return{createVisible:!1,managerList:[],managerListLen:0,pageindex:1,superForm:{password:"",account:""},rules:{password:[{required:!0,message:"请输入密码",trigger:"blur"}],account:[{required:!0,message:"请输入账号",trigger:"blur"}]}}},created:function(){var e=this;return Object(X["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getmanagerList(1);case 2:e.managerList=t.sent;case 3:case"end":return t.stop()}}),t)})))()},methods:{getmanagerList:function(e){var t=this;return new Promise((function(r,a){qe({reqid:T(),pageindex:e,pagesize:10}).then((function(e){var s=e.data,n=s.status,i=s.data,o=s.message;n?(t.$message.error(o),a()):(t.managerListLen=i.size,r(i.meets))}))}))},currentChange:function(e){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.pageindex=e,r.next=3,t.getmanagerListttMoudle(e);case 3:t.managerList=r.sent;case 4:case"end":return r.stop()}}),r)})))()},handelExamine:function(e,t){var r=this;Se({reqid:T(),id:Number(t.id)}).then(function(){var e=Object(X["a"])(regeneratorRuntime.mark((function e(t){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.data,s=a.status,a.data,n=a.message,s){e.next=8;break}return r.$message.success("删除成功！"),e.next=5,r.getmanagerList(1);case 5:r.managerList=e.sent,e.next=10;break;case 8:r.$message.error(n),reject();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},createUser:function(){this.createVisible=!0},onConfirmCreateUser:function(){var e=this;this.$refs["superForm"].validate((function(t){t&&(e.createVisible=!1,$e({reqid:T(),account:e.superForm.account,password:P(e.superForm.password)}).then(function(){var t=Object(X["a"])(regeneratorRuntime.mark((function t(r){var a,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=r.data,s=a.status,a.data,n=a.message,s){t.next=8;break}return e.$message.success("创建成功！"),t.next=5,e.getmanagerList(1);case 5:e.managerList=t.sent,t.next=10;break;case 8:e.$message.error(n),reject();case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}))}}},Ne=Fe,Ie=(r("041d"),Object(u["a"])(Ne,_e,xe,!1,null,"2a50ba14",null)),ze=Ie.exports,Re=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"userList"},[r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",[e._v("用户列表")])],1),r("div",{staticClass:"search"},[r("span",[e._v("用户查找：")]),r("el-input",{attrs:{placeholder:"请输入姓名/手机号"},model:{value:e.searchStr,callback:function(t){e.searchStr=t},expression:"searchStr"}}),r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.onSearch}},[e._v("查询")])],1),r("div",[r("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"全部",name:"0,1,2,5,6"}},[r("ListModule",{attrs:{list:e.userList,size:e.userLen,pageindex:e.pageindex},on:{pageChange:e.pageChange,refresh:e.refresh}})],1),r("el-tab-pane",{attrs:{label:"未审核",name:"2,5"}},[r("ListModule",{attrs:{list:e.userList,size:e.userLen,pageindex:e.pageindex},on:{pageChange:e.pageChange,refresh:e.refresh}})],1),r("el-tab-pane",{attrs:{label:"已审核",name:"6"}},[r("ListModule",{attrs:{list:e.userList,size:e.userLen,pageindex:e.pageindex},on:{pageChange:e.pageChange,refresh:e.refresh}})],1),r("el-tab-pane",{attrs:{label:"信息不完整",name:"0,1"}},[r("ListModule",{attrs:{list:e.userList,size:e.userLen,pageindex:e.pageindex},on:{pageChange:e.pageChange,refresh:e.refresh}})],1)],1)],1)],1)},je=[],Oe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"list"},[r("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.list,stripe:""},on:{"cell-mouse-enter":e.inviteCodeHover,"row-click":e.handleCurrentChange}},[r("el-table-column",{attrs:{prop:"nick_name","show-overflow-tooltip":"",label:"用户列表",width:"180"}}),r("el-table-column",{attrs:{prop:"phone_num","show-overflow-tooltip":"",label:"手机号",width:"180"}}),1===Number(e.userInfo.level)?r("el-table-column",{attrs:{prop:"nick_name",label:"姓名"}}):e._e(),1===Number(e.userInfo.level)?r("el-table-column",{attrs:{prop:"id_card_num",label:"身份证"}}):e._e(),r("el-table-column",{attrs:{label:"绑定邀请码"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-popover",{attrs:{placement:"top-start",title:"邀请人信息",width:"200",trigger:"hover",content:"这是一段内容,这是一段内容,这是一段内容,这是一段内容。"}},[r("span",{staticStyle:{cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"},[e._v(" "+e._s(t.row.invite_code)+" ")])])]}}])}),r("el-table-column",{attrs:{prop:"create_time",label:"注册时间"}}),r("el-table-column",{attrs:{label:"专属客服手机号",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.cooperation_num?r("span",[e._v(e._s(t.row.cooperation_num))]):r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(r){return r.stopPropagation(),e.setCooperationNum(t.$index,t.row)}}},[e._v(" 设置专属客服手机号 ")])]}}])}),r("el-table-column",{attrs:{prop:"status",label:"状态",formatter:e.statusFormatter}}),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{directives:[{name:"show",rawName:"v-show",value:"已完善信息，未审核"===t.row.requirement_status||"修改资料，未审核"===t.row.requirement_status,expression:"scope.row.requirement_status === '已完善信息，未审核' || scope.row.requirement_status === '修改资料，未审核'"}],attrs:{type:"primary",size:"mini"},on:{click:function(r){return r.stopPropagation(),e.handelExamine(t.$index,t.row)}}},[e._v("审核")])]}}])})],1),r("el-pagination",{attrs:{"current-page":e.pageindex,background:"",layout:"prev, pager, next","page-size":10,total:e.size},on:{"current-change":e.currentChange}}),r("el-dialog",{attrs:{customClass:"details customDialog",title:"个人详情",visible:e.curItemVisible},on:{"update:visible":function(t){e.curItemVisible=t}}},[r("div",{staticClass:"detailContent"},[r("div",{staticClass:"text"},[r("p",{staticClass:"title"},[e._v("头像：")]),r("img",{attrs:{src:e.curItem.avatar,alt:""}})]),r("div",{staticClass:"text description"},[r("p",{staticClass:"title"},[e._v("昵称：")]),r("p",{staticClass:"nameContent",staticStyle:{"white-space":"pre-wrap"}},[e._v(" "+e._s(e.curItem.nick_name))])]),r("div",{staticClass:"text"},[r("p",{staticClass:"title"},[e._v("手机号：")]),r("span",{staticClass:"nameContent"},[e._v(e._s(e.curItem.phone_num))])]),1===Number(e.userInfo.level)?r("div",{staticClass:"text"},[r("p",{staticClass:"title"},[e._v("姓名：")]),r("span",{staticClass:"nameContent"},[e._v(e._s(e.curItem.real_name))])]):e._e(),1===Number(e.userInfo.level)?r("div",{staticClass:"text"},[r("p",{staticClass:"title"},[e._v("身份证：")]),r("span",{staticClass:"nameContent"},[e._v(e._s(e.curItem.id_card_num))])]):e._e(),r("div",{staticClass:"text"},[r("p",{staticClass:"title"},[e._v("职位：")]),r("span",{staticClass:"nameContent"},[e._v(e._s(e.curItem.position))])]),r("div",{staticClass:"text"},[r("p",{staticClass:"title"},[e._v("邀请码：")]),r("span",{staticClass:"nameContent"},[e._v(e._s(e.curItem.invite_code))])])])]),r("el-dialog",{attrs:{customClass:"details customDialog",title:"设置专属客服手机号",visible:e.cooperationNumVisible},on:{"update:visible":function(t){e.cooperationNumVisible=t}}},[r("el-form",{ref:"userForm",attrs:{model:e.userForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{prop:"cooperationNum"}},[r("el-input",{attrs:{type:"tel",tabindex:"1",maxlength:"11",placeholder:"请输入专属客服手机号"},model:{value:e.userForm.cooperationNum,callback:function(t){e.$set(e.userForm,"cooperationNum",t)},expression:"userForm.cooperationNum"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.cooperationNumVisible=!1,this.cooperationNum=""}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.onConfirmCooperationNum}},[e._v("确 定")])],1)],1)],1)},Ee=[],Me={props:["list","pageindex","size"],data:function(){var e=function(e,t,r){var a=/^1[34578]\d{9}$$/;if(!t)return r(new Error("电话号码不能为空"));Number.isInteger(+t)?a.test(t)?r():r(new Error("电话号码格式不正确")):r(new Error("请输入数字值"))};return{curItem:{},filesList:[],curItemVisible:!1,userInfo:{},cooperationNumVisible:!1,userForm:{cooperationNum:""},rules:{cooperationNum:[{required:!0,validator:e,trigger:"blur"}]},inviteUserInfo:{}}},created:function(){this.userInfo=JSON.parse(window.localStorage.getItem("userInfo"))},methods:{handleCurrentChange:function(e){this.curItem=e,this.filesList=e.pic_annex,this.curItemVisible=!0},handelExamine:function(e,t){var r=this;this.curItem=t,t.cooperation_num?ye({reqid:T(),status:6,user_id:Number(t.id),cooperation_num:t.cooperation_num?t.cooperation_num:""}).then((function(e){var t=e.data,a=t.status,s=(t.data,t.message);a?r.$message.error(s):(r.$message.success("审批成功"),r.$emit("refresh"))})):this.$message.warning("请先填写专属客服电话")},statusFormatter:function(e){switch(Number(e.status)){case 0:e.requirement_status="未实名";break;case 1:e.requirement_status="未完善个人信息";break;case 2:e.requirement_status="已完善信息，未审核";break;case 5:e.requirement_status="修改资料，未审核";break;case 6:e.requirement_status="已审核";break}return e.requirement_status},currentChange:function(e){this.$emit("pageChange",e)},onDownload:function(e){var t="https://cuohe-1304244764.cos.ap-beijing.myqcloud.com/",r=t+this.filesList[e].download_name;window.location.href=r},inviteCodeHover:function(e,t,r){var a=this;"绑定邀请码"===t.label&&ke({reqid:T(),invite_code:e.invite_code}).then((function(e){var t=e.data,r=t.status,s=t.data,n=t.message;r?"7009"===r?a.inviteUserInfo={}:a.$message.error(n):a.inviteUserInfo=s}))},setCooperationNum:function(e,t){var r=this;this.curItem=t,this.cooperationNumVisible=!0,this.userForm.cooperationNum="",this.$nextTick((function(){r.$refs["userForm"].resetFields()}))},onConfirmCooperationNum:function(){var e=this;this.cooperationNumVisible=!1,ye({reqid:T(),status:Number(this.curItem.status),user_id:Number(this.curItem.id),cooperation_num:this.userForm.cooperationNum?this.userForm.cooperationNum:""}).then((function(t){var r=t.data,a=r.status,s=(r.data,r.message);a?e.$message.error(s):(e.$message.success("专属客服设置成功"),e.$emit("refresh"))}))}}},Te=Me,Ve=(r("3b1a"),Object(u["a"])(Te,Oe,Ee,!1,null,"b90b74e0",null)),Pe=Ve.exports,Ue={components:{ListModule:Pe},data:function(){return{searchStr:"",userList:[],activeName:"0,1,2,5,6",curStatus:"0,1,2,5,6",pageindex:1,userLen:0}},created:function(){var e=this;return Object(X["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getUserList("0,1,2,5,6",1,10);case 2:e.userList=t.sent;case 3:case"end":return t.stop()}}),t)})))()},methods:{getUserList:function(e,t,r){var a=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return new Promise((function(n,i){Le({reqid:T(),status:e,keyword:s,pageindex:t,pagesize:r}).then((function(e){var t=e.data,r=t.status,s=t.data,o=t.message;r?(a.$message.error(o),i()):(a.userLen=s.size,n(s.meets))}))}))},pageChange:function(e){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.pageindex=e,r.next=3,t.getUserList(t.curStatus,e,10,t.searchStr);case 3:t.userList=r.sent;case 4:case"end":return r.stop()}}),r)})))()},handleClick:function(e){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t.curStatus=e.name,"5"!==t.curStatus){r.next=7;break}return r.next=4,t.getUserList("0,1,2,5,6",1,10,t.searchStr,!0);case 4:t.userList=r.sent,r.next=10;break;case 7:return r.next=9,t.getUserList(t.curStatus,1,10,t.searchStr);case 9:t.userList=r.sent;case 10:case"end":return r.stop()}}),r)})))()},onSearch:function(){var e=this;return Object(X["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getUserList(e.curStatus,1,10,e.searchStr);case 2:e.userList=t.sent;case 3:case"end":return t.stop()}}),t)})))()},refresh:function(){var e=this;return Object(X["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getUserList(e.curStatus,e.pageindex,10,e.searchStr);case 2:e.userList=t.sent;case 3:case"end":return t.stop()}}),t)})))()}}},De=Ue,Be=(r("d52f"),Object(u["a"])(De,Re,je,!1,null,"2a1ba7ee",null)),He=Be.exports,Ae=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"history"},[r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",[e._v("历史记录")])],1),r("div",{staticClass:"historyContent"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.historyList}},[r("el-table-column",{attrs:{prop:"create_time",label:"日期",width:"180"}}),r("el-table-column",{attrs:{prop:"account",label:"账户名",width:"180"}}),r("el-table-column",{attrs:{prop:"user_id",label:"角色",width:"180"}}),r("el-table-column",{attrs:{prop:"message",label:"事件"}})],1)],1),r("el-pagination",{attrs:{"current-page":e.pageindex,background:"",layout:"prev, pager, next","page-size":10,total:e.historyListLen},on:{"current-change":e.currentChange}})],1)},Je=[],Xe={data:function(){return{historyList:[],historyListLen:0,pageindex:1}},created:function(){var e=this;return Object(X["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getoperateList(1);case 2:e.historyList=t.sent;case 3:case"end":return t.stop()}}),t)})))()},methods:{getoperateList:function(e){var t=this;return new Promise((function(r,a){Ce({reqid:T(),pageindex:e,pagesize:10}).then((function(e){var s=e.data,n=s.status,i=s.data,o=s.message;n?(t.$message.error(o),a()):(t.historyListLen=i.size,r(i.meets))}))}))},currentChange:function(e){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.pageindex=e,r.next=3,t.getoperateList(e);case 3:t.historyList=r.sent;case 4:case"end":return r.stop()}}),r)})))()}}},Ke=Xe,Ge=(r("3fc9"),Object(u["a"])(Ke,Ae,Je,!1,null,"26b87e1b",null)),Qe=Ge.exports,We=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"layout"},[r("el-container",{staticStyle:{height:"500px",border:"1px solid #eee"}},[r("el-header",[r("div",{staticClass:"left"},[r("p",{staticClass:"logo"},[e._v("logo")]),r("span",{staticClass:"projectTitle"},[e._v("后台管理系统")])]),r("div",{staticClass:"right"},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.isLogged,expression:"isLogged"}],staticClass:"login"},[r("img",{attrs:{src:"",alt:""}}),r("span",[e._v("欢迎，"+e._s(e.userInfo.account))])]),r("div",{staticClass:"logout"},[r("img",{attrs:{src:"",alt:""}}),r("span",{staticClass:"logoutBtn",on:{click:e.logout}},[e._v("登出")])])])]),r("el-container",[r("el-aside",{staticStyle:{height:"100vh","background-color":"#234D61"},attrs:{width:"200px"}},[r("el-col",[r("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"2","background-color":"#234D61","text-color":"#fff","active-text-color":"#188F9F"},on:{select:e.handleSelect}},[r("el-menu-item",{attrs:{index:"/"}},[r("i",{staticClass:"el-icon-menu"}),r("span",{attrs:{slot:"title"},slot:"title"},[e._v(" 首页 ")])]),r("el-menu-item",{attrs:{index:"/requirementList"}},[r("i",{staticClass:"el-icon-menu"}),r("span",{attrs:{slot:"title"},slot:"title"},[e._v("需求列表")])]),r("el-menu-item",{attrs:{index:"/resourceList"}},[r("i",{staticClass:"el-icon-document"}),r("span",{attrs:{slot:"title"},slot:"title"},[e._v("资源列表")])]),r("el-menu-item",{attrs:{index:"/userList"}},[r("i",{staticClass:"el-icon-setting"}),r("span",{attrs:{slot:"title"},slot:"title"},[e._v("用户列表")])]),r("el-menu-item",{attrs:{index:"/systemAccount"}},[r("i",{staticClass:"el-icon-setting"}),r("span",{attrs:{slot:"title"},slot:"title"},[e._v("系统账户")])]),r("el-menu-item",{attrs:{index:"/history"}},[r("i",{staticClass:"el-icon-setting"}),r("span",{attrs:{slot:"title"},slot:"title"},[e._v("历史记录")])])],1)],1)],1),r("el-container",[r("el-main",{staticStyle:{height:"100vh"}},[r("router-view")],1)],1)],1)],1)],1)},Ye=[],Ze={data:function(){return{userInfo:{},isLogged:!1}},created:function(){this.isLogin()},methods:{handleSelect:function(e,t){this.$router.push(t[0])},isLogin:function(){var e=this;j({reqid:T(),domain:"mgr"}).then((function(t){var r=t.data,a=r.status,s=r.user;r.message;a?e.$message.error(t.data.message):(e.isLogged=!0,e.userInfo=s,window.localStorage.setItem("userInfo",JSON.stringify(s)))}))},logout:function(){var e=this;R({reqid:T(),domain:"mgr"}).then((function(t){var r=t.data,a=r.status;r.message;a?e.$message.error(t.data.message):(e.$message.success("退出登录成功"),e.$router.push("/login"))}))}}},et=Ze,tt=(r("c003"),Object(u["a"])(et,We,Ye,!1,null,"7eb0ab20",null)),rt=tt.exports,at=[{path:"/",name:"Home",component:rt,children:[{path:"/",name:"Home",component:v}]},{path:"/login",name:"Login",component:H},{path:"/requirementList",component:rt,children:[{path:"/requirementList",name:"RequirementList",component:oe}]},{path:"/resourceList",component:rt,children:[{path:"/resourceList",name:"ResourceList",component:we}]},{path:"/systemAccount",component:rt,children:[{path:"/systemAccount",name:"SystemAccount",component:ze}]},{path:"/userList",component:rt,children:[{path:"/userList",name:"UserList",component:He}]},{path:"/history",component:rt,children:[{path:"/history",name:"History",component:Qe}]}],st=new m["a"]({routes:at,base:"/manage"});a["default"].use(m["a"]);var nt=m["a"].prototype.push;m["a"].prototype.push=function(e){return nt.call(this,e).catch((function(e){return e}))};var it=st,ot=r("2f62");a["default"].use(ot["a"]);var ut=new ot["a"].Store({state:{},mutations:{},actions:{},modules:{}}),ct=(r("0fae"),r("8237")),lt=r.n(ct);r("3d39");a["default"].use(L.a),a["default"].config.productionTip=!1,a["default"].prototype.$axios=x.a,a["default"].prototype.$md5=lt.a,a["default"].config.productionTip=!1,it.beforeEach((function(e,t,r){V("heat_sess_mgr")?"/login"===e.path?r({path:"/home",replace:!0}):r():"/login"!==e.path?r({path:"/login"}):r()})),new a["default"]({router:it,store:ut,render:function(e){return e(l)}}).$mount("#app")},6:function(e,t){},"675b":function(e,t,r){},7:function(e,t){},8:function(e,t){},9:function(e,t){},"971a":function(e,t,r){"use strict";r("a66a")},9806:function(e,t,r){"use strict";r("2db9")},"99c2":function(e,t,r){"use strict";r("02c1")},a05b:function(e,t,r){},a66a:function(e,t,r){},a9b4:function(e,t,r){"use strict";r("336f")},ae8f:function(e,t,r){},c003:function(e,t,r){"use strict";r("675b")},c0a8:function(e,t,r){},c502:function(e,t,r){},d52f:function(e,t,r){"use strict";r("3f10")},eff4:function(e,t,r){"use strict";r("ae8f")}});